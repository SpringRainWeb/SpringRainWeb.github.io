(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-045ba183"],{1979:function(e,t,s){},dd7b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("i",{staticClass:"cubeic-back",on:{click:e.goBack}}),s("h1",[e._v("硅谷外卖")]),s("p",[s("span",{class:{active:e.isMessage},on:{click:function(t){return e.changeLogin(!0)}}},[e._v("短信登录")]),s("span",{class:{active:!e.isMessage},on:{click:function(t){return e.changeLogin(!1)}}},[e._v("密码登录")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isMessage,expression:"isMessage"}]},[s("cube-input",{attrs:{type:"text",placeholder:"手机号"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),s("cube-input",{attrs:{placeholder:"验证码"},model:{value:e.randomNumber,callback:function(t){e.randomNumber=t},expression:"randomNumber"}}),e._m(0)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMessage,expression:"!isMessage"}]},[s("cube-input",{attrs:{placeholder:"手机/邮箱/用户名"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),s("cube-input",{attrs:{type:"password",placeholder:"密码",eye:e.eye},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}}),s("div",{staticClass:"captcha"},[s("cube-input",{staticClass:"captcha-input",attrs:{placeholder:"验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),s("span",{domProps:{innerHTML:e._s(e.vcode)},on:{click:e.getCaptcha}})],1)],1),s("cube-button",{on:{click:e.login}},[e._v("登录")])],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tips"},[e._v("\n      温馨提示：未注册硅谷外卖账号的手机号，登录时将自动注册，且代表已同意\n      "),s("span",[e._v("《用户服务协议》")])])}],n=(s("fa26"),s("4453"),s("089b")),i=s("365c"),c={name:"login",mounted:function(){this.getCaptcha()},data:function(){return{user:"",pwd:"",code:"",vcode:"",rightCode:"",randomNumber:"",eye:!0,isMessage:!1}},computed:{rightPhone:function(){return/^1\d{10}$/.test(this.user)}},methods:{goBack:function(){this.$router.go(-1)},changeLogin:function(e){this.user="",this.pwd="",this.code="",this.randomNumber="",this.isMessage=!!e},getCaptcha:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])();case 2:t=e.sent,this.vcode=t.data.data,this.rightCode=t.data.text;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,s,a,r,n,c,o,u,l,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isMessage){e.next=12;break}if(this.user,t=this.randomNumber,s=this.rightPhone,s){e.next=7;break}return this.$createDialog({type:"alert",title:"请输入正确电话号码",icon:"cubeic-important"}).show(),e.abrupt("return");case 7:if(/^\d{6}$/.test(t)){e.next=10;break}return this.$createDialog({type:"alert",title:"请输入正确验证码",icon:"cubeic-important"}).show(),e.abrupt("return");case 10:e.next=25;break;case 12:if(a=this.user,r=this.code,n=this.pwd,c=this.rightCode,o=this.rightPhone,u=this.getCaptcha,o){e.next=16;break}return this.$createDialog({type:"alert",title:"请输入正确电话号码",icon:"cubeic-important"}).show(),e.abrupt("return");case 16:if(r.toLowerCase()==c.toLowerCase()){e.next=20;break}return this.$createDialog({type:"alert",title:"请输入正确验证码",icon:"cubeic-important"}).show(),u(),e.abrupt("return");case 20:return console.log(r,c),e.next=23,Object(i["e"])({user:a,pwd:n});case 23:l=e.sent,"success"==l.status?(h={userName:l.data.user},this.$store.dispatch("recordUser",h),sessionStorage.setItem("userName",h.userName),this.$router.replace("/my")):l;case 25:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},o=c,u=(s("f160"),s("17cc")),l=Object(u["a"])(o,a,r,!1,null,"5ef863aa",null);t["default"]=l.exports},f160:function(e,t,s){"use strict";var a=s("1979"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-045ba183.5406564d.js.map