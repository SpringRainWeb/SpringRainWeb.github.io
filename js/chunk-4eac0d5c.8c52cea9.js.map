{"version":3,"sources":["webpack:///./src/views/shop/shopRating.vue?31d1","webpack:///src/views/shop/shopRating.vue","webpack:///./src/views/shop/shopRating.vue?fa83","webpack:///./src/views/shop/shopRating.vue","webpack:///./node_modules/_timers-browserify@2.0.10@timers-browserify/main.js","webpack:///./src/views/shop/shopRating.vue?8e8f","webpack:///./node_modules/_setimmediate@1.0.5@setimmediate/setImmediate.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_v","_s","info","score","rankRate","attrs","disabled","model","value","callback","$$v","$set","expression","serviceScore","deliveryTime","class","active","selectType","on","click","$event","ratings","length","satisfiedRate","onlyShowText","_l","rating","index","key","src","avatar","alt","username","_f","rateTime","_e","text","cubeic-good","rateType","cubeic-bad","item","staticRenderFns","shopRatingvue_type_script_lang_js_","name","data","list","methods","_initScroll","_this","listScroll","bscroll_esm","$refs","pullDownRefresh","threshold","stop","pullUpLoad","probeType","startY","scrollbar","toast","$createToast","txt","mask","show","Object","main","$store","dispatch","finishPullDown","hide","finishPullUp","refresh","scrollTo","maxScrollY","computed","objectSpread","vuex_esm","showList","filter","mounted","_this2","$nextTick","shop_shopRatingvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","global","scope","self","window","apply","Function","prototype","Timeout","id","clearFn","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","__webpack_require__","setImmediate","clearImmediate","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_shopRating_vue_vue_type_style_index_0_id_fdcb2c40_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_shopRating_vue_vue_type_style_index_0_id_fdcb2c40_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","process","undefined","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","MessageChannel","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","args","Array","i","task","handle","run","runIfPresent","nextTick","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","messagePrefix","Math","random","onGlobalMessage","event","source","indexOf","slice","addEventListener","attachEvent","channel","port1","port2","html","documentElement","script","onreadystatechange","removeChild","appendChild"],"mappings":"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","file":"js/chunk-4eac0d5c.8c52cea9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"ratings\",staticClass:\"shop-rating\"},[_c('div',{staticClass:\"shop-rating-wrapper\"},[_c('div',{staticClass:\"rating-wrapper\"},[_c('div',{staticClass:\"rating-left\"},[_c('div',{staticClass:\"big-rating\"},[_vm._v(_vm._s(_vm.info.score))]),_c('p',{staticClass:\"base-rating\"},[_vm._v(\"综合评分\")]),_c('p',{staticClass:\"gray-word\"},[_vm._v(\"高于周边商家\"+_vm._s(_vm.info.rankRate)+\"%\")])]),_c('div',{staticClass:\"rating-right\"},[_c('div',{staticClass:\"star-rating\"},[_c('cube-rate',{attrs:{\"disabled\":true},model:{value:(_vm.info.serviceScore),callback:function ($$v) {_vm.$set(_vm.info, \"serviceScore\", $$v)},expression:\"info.serviceScore\"}}),_c('span',{staticClass:\"star-detail\"},[_vm._v(\"\\n            服务态度\\n            \"),_c('span',{staticClass:\"star-num\"},[_vm._v(_vm._s(_vm.info.serviceScore))])])],1),_c('div',{staticClass:\"star-rating\"},[_c('cube-rate',{attrs:{\"disabled\":true},model:{value:(_vm.info.score),callback:function ($$v) {_vm.$set(_vm.info, \"score\", $$v)},expression:\"info.score\"}}),_c('span',{staticClass:\"star-detail\"},[_vm._v(\"\\n            商品评分\\n            \"),_c('span',{staticClass:\"star-num\"},[_vm._v(_vm._s(_vm.info.score))])])],1),_c('div',{staticClass:\"delivery\"},[_vm._v(\"\\n          送达时间：\\n          \"),_c('span',{staticClass:\"gray-word\"},[_vm._v(_vm._s(_vm.info.deliveryTime)+\"分钟\")])])])]),_c('div',{staticClass:\"message-wrapper\"},[_c('div',{staticClass:\"msg-title\"},[_c('div',{staticClass:\"msg-btn\"},[_c('div',{class:{'active':_vm.selectType == 2},on:{\"click\":function($event){_vm.selectType = 2}}},[_vm._v(\"全部(\"+_vm._s(_vm.ratings.length)+\")\")]),_c('div',{class:{'active':_vm.selectType == 0},on:{\"click\":function($event){_vm.selectType = 0}}},[_vm._v(\"满意(\"+_vm._s(_vm.satisfiedRate)+\")\")]),_c('div',{class:{'active':_vm.selectType == 1},on:{\"click\":function($event){_vm.selectType = 1}}},[_vm._v(\"不满意(\"+_vm._s(_vm.ratings.length - _vm.satisfiedRate)+\")\")])]),_c('cube-checkbox',{model:{value:(_vm.onlyShowText),callback:function ($$v) {_vm.onlyShowText=$$v},expression:\"onlyShowText\"}},[_vm._v(\"只看有内容的评价\")])],1),_c('ul',{staticClass:\"msg-list\"},_vm._l((_vm.showList),function(rating,index){return _c('li',{key:index},[_c('div',{staticClass:\"content-wrapper clearfix\"},[_c('img',{attrs:{\"src\":rating.avatar,\"alt\":\"\"}}),_c('div',{staticClass:\"rating-content\"},[_c('h1',{staticClass:\"username\"},[_vm._v(\"\\n                \"+_vm._s(rating.username)+\"\\n                \"),_c('span',{staticClass:\"rate-time\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(rating.rateTime)))])]),_c('p',{staticClass:\"rate-star\"},[_c('cube-rate',{attrs:{\"disabled\":true},model:{value:(rating.score),callback:function ($$v) {_vm.$set(rating, \"score\", $$v)},expression:\"rating.score\"}}),_c('span',[_vm._v(\"\\n                  \"+_vm._s(rating.deliveryTime)+\"\\n                  \"),(rating.deliveryTime)?_c('span',[_vm._v(\"min\")]):_vm._e()])],1),_c('p',{staticClass:\"rate-text\"},[_vm._v(_vm._s(rating.text))]),_c('div',{staticClass:\"rate-tags\"},[_c('i',{class:{\n                'cubeic-good':rating.rateType == 0 ? true : false,\n                'cubeic-bad' :rating.rateType == 1 ? true : false,\n                \n                }}),_vm._l((rating.recommend),function(item,index){return _c('span',{key:index},[_vm._v(_vm._s(item))])})],2)])])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"shop-rating\" ref=\"ratings\">\n    <div class=\"shop-rating-wrapper\">\n      <div class=\"rating-wrapper\">\n        <div class=\"rating-left\">\n          <div class=\"big-rating\">{{info.score}}</div>\n          <p class=\"base-rating\">综合评分</p>\n          <p class=\"gray-word\">高于周边商家{{info.rankRate}}%</p>\n        </div>\n        <div class=\"rating-right\">\n          <div class=\"star-rating\">\n            <cube-rate v-model=\"info.serviceScore\" :disabled=\"true\"></cube-rate>\n            <span class=\"star-detail\">\n              服务态度\n              <span class=\"star-num\">{{info.serviceScore}}</span>\n            </span>\n          </div>\n          <div class=\"star-rating\">\n            <cube-rate v-model=\"info.score\" :disabled=\"true\"></cube-rate>\n            <span class=\"star-detail\">\n              商品评分\n              <span class=\"star-num\">{{info.score}}</span>\n            </span>\n          </div>\n          <div class=\"delivery\">\n            送达时间：\n            <span class=\"gray-word\">{{info.deliveryTime}}分钟</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"message-wrapper\">\n        <div class=\"msg-title\">\n          <div class=\"msg-btn\">\n            <div :class=\"{'active':selectType == 2}\" @click=\"selectType = 2\">全部({{ratings.length}})</div>\n            <div :class=\"{'active':selectType == 0}\" @click=\"selectType = 0\">满意({{satisfiedRate}})</div>\n            <div\n              :class=\"{'active':selectType == 1}\"\n              @click=\"selectType = 1\"\n            >不满意({{ratings.length - satisfiedRate}})</div>\n          </div>\n          <cube-checkbox v-model=\"onlyShowText\">只看有内容的评价</cube-checkbox>\n        </div>\n        <ul class=\"msg-list\">\n          <li v-for=\"(rating,index) in showList\" :key=\"index\">\n            <div class=\"content-wrapper clearfix\">\n              <img :src=\"rating.avatar\" alt>\n              <div class=\"rating-content\">\n                <h1 class=\"username\">\n                  {{rating.username}}\n                  <span class=\"rate-time\">{{rating.rateTime | dateFormat}}</span>\n                </h1>\n                <p class=\"rate-star\">\n                  <cube-rate v-model=\"rating.score\" :disabled=\"true\"></cube-rate>\n                  <span>\n                    {{rating.deliveryTime}}\n                    <span v-if=\"rating.deliveryTime\">min</span>\n                  </span>\n                </p>\n                <p class=\"rate-text\">{{rating.text}}</p>\n                <div class=\"rate-tags\">\n                  <i\n                    :class=\"{\n                  'cubeic-good':rating.rateType == 0 ? true : false,\n                  'cubeic-bad' :rating.rateType == 1 ? true : false,\n                  \n                  }\"\n                  ></i>\n                  <span v-for=\"(item,index) in rating.recommend\" :key=\"index\">{{item}}</span>\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport BScroll from \"better-scroll\";\nimport { setTimeout } from \"timers\";\n\nexport default {\n  name: \"shop-rating\",\n  data() {\n    return {\n      selectType: 2, // 0满意  1 不满意   2 全部\n      onlyShowText: false,\n      list: true\n    };\n  },\n  methods: {\n    _initScroll() {\n      this.listScroll = new BScroll(this.$refs.ratings, {\n        pullDownRefresh: {\n          threshold: 50, // 当下拉到超过顶部 50px 时，触发 pullingDown 事件\n          stop: 0 // 刷新数据的过程中，回弹停留在距离顶部还有 20px 的位置\n        },\n        pullUpLoad: {\n          threshold: -20 // 在上拉到超过底部 20px 时，触发 pullingUp 事件\n        },\n        //          pullDownRefresh: false, //关闭下拉\n        //          pullUpLoad: false, // 关闭上拉\n        click: true,\n        probeType: 3,\n        startY: 0,\n        scrollbar: false\n      });\n      this.listScroll.on(\"pullingDown\", () => {\n        const toast = this.$createToast({\n          txt: \"Loading...\",\n          mask: true\n        });\n        toast.show();\n        setTimeout(() =>{\n          this.$store.dispatch(\"receiveRatings\");\n          this.listScroll.finishPullDown();\n          toast.hide();\n        },1000)\n        \n      });\n      this.listScroll.on(\"pullingUp\", () => {\n        const toast = this.$createToast({\n          txt: \"Loading...\",\n          mask: true\n        });\n        toast.show();\n        setTimeout(() => {\n          this.$store.dispatch(\"addRatings\");\n          this.listScroll.finishPullUp();\n          this.listScroll.refresh();\n          setTimeout(() => {\n            toast.hide();\n            this.listScroll.scrollTo(0, this.listScroll.maxScrollY, 500);\n          },150);\n        }, 1000);\n      });\n    }\n  },\n  computed: {\n    ...mapState([\"info\", \"ratings\"]),\n    ...mapGetters([\"satisfiedRate\"]),\n    showList() {\n      const { selectType, onlyShowText, ratings } = this;\n      return ratings.filter(rating => {\n        const { rateType, text } = rating;\n\n        //selectType == 2  或 rateType == selectType  还要满足  onlyShowText ==true\n        //\n        return (\n          (selectType == 2 || rateType == selectType) &&\n          (!onlyShowText || text.length > 0)\n        );\n      });\n    }\n  },\n  mounted() {\n    this.$store.dispatch(\"receiveRatings\", () => {\n      this.$nextTick(() => {\n        this._initScroll();\n      });\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../common/scss/mixin.scss\";\n\n.shop-rating {\n  font-size: 0.12rem;\n  height: calc(100vh - 2.32rem);\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  .rating-wrapper {\n    height: 1.2rem;\n    background-color: #fefefe;\n    @include bottom-border-1px(#aaaaaa);\n    overflow: hidden;\n    .rating-left {\n      float: left;\n      height: 0.8rem;\n      text-align: center;\n      width: 36vw;\n      box-sizing: border-box;\n      margin: 0.2rem 0;\n      border-right: 2px solid #dadada;\n      padding-top: 0.1rem;\n      .big-rating {\n        font-size: 0.28rem;\n        font-weight: bold;\n        color: #fcbf3a;\n      }\n      .base-rating {\n        line-height: 0.3rem;\n      }\n      .gray-word {\n        color: #aaaaaa;\n      }\n    }\n    .rating-right {\n      float: left;\n      width: 64vw;\n      height: 0.8rem;\n      margin: 0.2rem 0;\n      padding-top: 0.1rem;\n      .star-rating {\n        text-align: center;\n        margin-bottom: 0.1rem;\n        .cube-rate {\n          width: 1rem;\n          vertical-align: bottom;\n        }\n        .star-detail {\n          display: inline-block;\n          width: 1rem;\n          .star-num {\n            color: #fcbf3a;\n          }\n        }\n      }\n      .delivery {\n        margin-left: 0.2rem;\n        .gray-word {\n          color: #aaaaaa;\n        }\n      }\n    }\n  }\n  .message-wrapper {\n    @include top-border-1px(#aaaaaa);\n    margin-top: 0.2rem;\n    background-color: #fefefe;\n    .msg-title {\n      padding: 0.15rem 0.15rem 0;\n      font-size: 0.14rem;\n      .msg-btn {\n        display: flex;\n        width: 75vw;\n        flex-flow: row nowrap;\n        justify-content: space-between;\n        align-items: center;\n        div {\n          padding: 0.1rem 0.15rem;\n          background-color: #dbdbdb;\n          color: #424242;\n        }\n        .active {\n          background-color: #1dd3da;\n          color: #fefefe;\n        }\n      }\n      .cube-checkbox {\n        padding: 0;\n      }\n    }\n    .msg-list {\n      @include top-border-1px(#aaaaaa);\n      li {\n        padding: 0.15rem 0.15rem;\n        @include bottom-border-1px(#aaaaaa);\n        .content-wrapper {\n          img {\n            width: 0.4rem;\n            height: 0.4rem;\n            border-radius: 50%;\n            float: left;\n          }\n          .rating-content {\n            float: left;\n            width: calc(100% - 0.4rem);\n            box-sizing: border-box;\n            padding-left: 0.1rem;\n            .username {\n              color: #575757;\n              .rate-time {\n                float: right;\n                color: #aaaaaa;\n              }\n            }\n            .rate-star {\n              margin: 0.05rem 0 0.1rem;\n              .cube-rate {\n                width: 1rem;\n                vertical-align: bottom;\n                margin-right: 0.1rem;\n              }\n              span {\n                color: #aaaaaa;\n              }\n            }\n            .rate-tags {\n              margin-top: 0.1rem;\n              i {\n                float: left;\n                font-size: 0.2rem;\n                margin-right: 0.1rem;\n                &.cubeic-good {\n                  color: #fcbf3a;\n                }\n                &.cubeic-bad {\n                  color: #aaaaaa;\n                }\n              }\n              span {\n                float: left;\n                padding: 0.05rem 0.1rem;\n                color: #aaaaaa;\n                border: 1px solid #aaaaaa;\n                margin: 0 0.1rem 0.1rem 0;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--16-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./shopRating.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--16-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./shopRating.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shopRating.vue?vue&type=template&id=fdcb2c40&scoped=true&\"\nimport script from \"./shopRating.vue?vue&type=script&lang=js&\"\nexport * from \"./shopRating.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shopRating.vue?vue&type=style&index=0&id=fdcb2c40&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdcb2c40\",\n  null\n  \n)\n\nexport default component.exports","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./shopRating.vue?vue&type=style&index=0&id=fdcb2c40&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./shopRating.vue?vue&type=style&index=0&id=fdcb2c40&lang=scss&scoped=true&\"","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n"],"sourceRoot":""}