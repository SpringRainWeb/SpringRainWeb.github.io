{"version":3,"sources":["webpack:///./src/views/login.vue?267c","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?fc08","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?7281"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","goBack","_v","class","active","isMessage","$event","changeLogin","directives","name","rawName","value","expression","attrs","type","placeholder","model","callback","$$v","user","randomNumber","_m","eye","pwd","code","domProps","innerHTML","_s","vcode","getCaptcha","login","staticRenderFns","loginvue_type_script_lang_js_","mounted","data","rightCode","computed","rightPhone","test","methods","$router","go","_getCaptcha","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","api","sent","text","stop","apply","arguments","_login","_callee2","_user","_rightPhone","userInfo","_context2","$createDialog","title","icon","show","abrupt","toLowerCase","console","log","status","userName","$store","dispatch","sessionStorage","setItem","replace","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_5ef863aa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_5ef863aa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-045ba183.5406564d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('i',{staticClass:\"cubeic-back\",on:{\"click\":_vm.goBack}}),_c('h1',[_vm._v(\"硅谷外卖\")]),_c('p',[_c('span',{class:{active:_vm.isMessage},on:{\"click\":function($event){return _vm.changeLogin(true)}}},[_vm._v(\"短信登录\")]),_c('span',{class:{active:!_vm.isMessage},on:{\"click\":function($event){return _vm.changeLogin(false)}}},[_vm._v(\"密码登录\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMessage),expression:\"isMessage\"}]},[_c('cube-input',{attrs:{\"type\":\"text\",\"placeholder\":'手机号'},model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}}),_c('cube-input',{attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.randomNumber),callback:function ($$v) {_vm.randomNumber=$$v},expression:\"randomNumber\"}}),_vm._m(0)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMessage),expression:\"!isMessage\"}]},[_c('cube-input',{attrs:{\"placeholder\":\"手机/邮箱/用户名\"},model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}}),_c('cube-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\",\"eye\":_vm.eye},model:{value:(_vm.pwd),callback:function ($$v) {_vm.pwd=$$v},expression:\"pwd\"}}),_c('div',{staticClass:\"captcha\"},[_c('cube-input',{staticClass:\"captcha-input\",attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.vcode)},on:{\"click\":_vm.getCaptcha}})],1)],1),_c('cube-button',{on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tips\"},[_vm._v(\"\\n      温馨提示：未注册硅谷外卖账号的手机号，登录时将自动注册，且代表已同意\\n      \"),_c('span',[_vm._v(\"《用户服务协议》\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <i class=\"cubeic-back\" @click=\"goBack\"></i>\n    <h1>硅谷外卖</h1>\n    <p>\n      <span :class=\"{active:isMessage}\" @click=\"changeLogin(true)\">短信登录</span>\n      <span :class=\"{active:!isMessage}\" @click=\"changeLogin(false)\">密码登录</span>\n    </p>\n    <div v-show=\"isMessage\">\n      <cube-input v-model=\"user\" type=\"text\" :placeholder=\"'手机号'\"></cube-input>\n      <cube-input v-model=\"randomNumber\" placeholder=\"验证码\"></cube-input>\n      <div class=\"tips\">\n        温馨提示：未注册硅谷外卖账号的手机号，登录时将自动注册，且代表已同意\n        <span>《用户服务协议》</span>\n      </div>\n    </div>\n    <div v-show=\"!isMessage\">\n      <cube-input v-model=\"user\" placeholder=\"手机/邮箱/用户名\"></cube-input>\n      <cube-input v-model=\"pwd\" type=\"password\" placeholder=\"密码\" :eye=\"eye\"></cube-input>\n      <div class=\"captcha\">\n        <cube-input v-model=\"code\" placeholder=\"验证码\" class=\"captcha-input\"></cube-input>\n        <span v-html=\"vcode\" @click=\"getCaptcha\"></span>\n      </div>\n    </div>\n\n    <cube-button @click=\"login\">登录</cube-button>\n  </div>\n</template>\n\n<script>\nimport { reqPwdLogin, queryCaptcha } from \"../api/index\";\n\nexport default {\n  name: \"login\",\n  mounted() {\n    this.getCaptcha();\n  },\n  data() {\n    return {\n      user: \"\",\n      pwd: \"\",\n      code: \"\",\n      vcode: \"\",\n      rightCode:\"\",\n      randomNumber: \"\",\n      eye: true,\n      isMessage: false\n    };\n  },\n  computed: {\n    rightPhone() {\n      return /^1\\d{10}$/.test(this.user);\n    }\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    changeLogin(type) {\n      this.user = \"\";\n      this.pwd = \"\";\n      this.code = \"\";\n      this.randomNumber = \"\";\n      if (type) {\n        this.isMessage = true;\n      } else {\n        this.isMessage = false;\n      }\n    },\n    async getCaptcha() {\n      let result = await queryCaptcha();\n      this.vcode = result.data.data;\n      this.rightCode = result.data.text;\n    },\n    async login() {\n      if (this.isMessage) {\n        const { user, randomNumber, rightPhone } = this;\n        if (!rightPhone) {\n          this.$createDialog({\n            type: \"alert\",\n            title: \"请输入正确电话号码\",\n            icon: \"cubeic-important\"\n          }).show();\n          return;\n        } else if (!/^\\d{6}$/.test(randomNumber)) {\n          this.$createDialog({\n            type: \"alert\",\n            title: \"请输入正确验证码\",\n            icon: \"cubeic-important\"\n          }).show();\n          return;\n        }\n      } else {\n        let { user, code, pwd, rightCode, rightPhone,getCaptcha } = this;\n        if (!rightPhone) {\n          this.$createDialog({\n            type: \"alert\",\n            title: \"请输入正确电话号码\",\n            icon: \"cubeic-important\"\n          }).show();\n          return;\n        }\n        if (code.toLowerCase() != rightCode.toLowerCase()) {\n          this.$createDialog({\n            type: \"alert\",\n            title: \"请输入正确验证码\",\n            icon: \"cubeic-important\"\n          }).show();\n          getCaptcha()\n          return;\n        }\n        console.log(code,rightCode);\n        //发送密码登录请求\n        let result = await reqPwdLogin({user,pwd});\n        if (result.status == \"success\") {\n            let userInfo = {\n               userName: result.data.user\n            };\n            //保存到vuex中\n            this.$store.dispatch('recordUser',userInfo);\n            //保存到session storage 中\n            sessionStorage.setItem(\"userName\",userInfo.userName);\n            this.$router.replace('/my');\n        } else {\n            let msg = result;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  width: 100%;\n  height: 100%;\n  background-color: #fefefe;\n  position: relative;\n  .cubeic-back {\n    position: absolute;\n    font-size: 0.25rem;\n    padding: 0.1rem 0.05rem;\n    color: #7e8c8d;\n  }\n  h1 {\n    font-size: 0.4rem;\n    font-weight: bolder;\n    color: #19b4b9;\n    text-align: center;\n    padding-top: 1rem;\n    margin-bottom: 0.2rem;\n  }\n  p {\n    text-align: center;\n    margin: 0 0.1rem;\n    span {\n      margin: 0 0.1rem;\n      display: inline-block;\n      line-height: 0.2rem;\n      &.active {\n        border-bottom: 2px solid #1dd3da;\n        color: #1dd3da;\n      }\n    }\n  }\n  .cube-input {\n    width: 80%;\n    margin: 0.15rem auto;\n  }\n  .cube-input_active::after {\n    border-color: #1dd3da;\n  }\n  .captcha {\n    position: relative;\n    width: 80%;\n    margin: 0 auto;\n    .captcha-input{\n        width: 65%;\n        margin-left: 0;\n    }\n    span {\n      position: absolute;\n      height: 100%;\n      right: 0;\n      top: 0;\n    }\n  }\n  button {\n    width: 80%;\n    margin: 0 auto;\n    height: 0.4rem;\n    background-color: #1dd3da;\n    color: #fefefe;\n    font-size: 0.14rem;\n    padding: 0;\n    &:active {\n      background-color: #19b4b9;\n    }\n  }\n  .tips {\n    font-size: 0.12rem;\n    width: 80%;\n    color: #7e8c8d;\n    margin: 0 auto 0.1rem;\n    span {\n      color: #1dd3da;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--16-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--16-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=5ef863aa&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=5ef863aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ef863aa\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=5ef863aa&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=5ef863aa&lang=scss&scoped=true&\""],"sourceRoot":""}